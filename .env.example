# =============================================================================
# Arbitrage Bot Configuration
# =============================================================================
# Скопируйте этот файл в .env и настройте параметры перед запуском
# cp .env.example .env

# =============================================================================
# Environment
# =============================================================================
# Режим работы: development, production
# В production требуются DEBUG_USERNAME/DEBUG_PASSWORD для доступа к pprof
ENV=development

# =============================================================================
# Server Configuration
# =============================================================================
SERVER_PORT=8080
SERVER_HOST=0.0.0.0
USE_HTTPS=false
CERT_FILE=
KEY_FILE=

# HTTP таймауты (опционально, значения по умолчанию указаны)
SERVER_READ_TIMEOUT=15s
SERVER_WRITE_TIMEOUT=15s
SERVER_IDLE_TIMEOUT=60s

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================
DB_DRIVER=postgres
DB_HOST=localhost
DB_PORT=5432
DB_NAME=arbitrage
DB_USER=arbitrage_user
DB_PASSWORD=arbitrage_password
DB_SSL_MODE=disable

# =============================================================================
# Security Configuration
# =============================================================================
# ВАЖНО: Сгенерируйте собственные ключи для production!
#
# JWT_SECRET - минимум 32 символа, используется для подписи токенов
# Сгенерировать: openssl rand -base64 32
JWT_SECRET=your-very-long-jwt-secret-key-min-32-chars

# ENCRYPTION_KEY - ровно 32 байта для AES-256, используется для шифрования API ключей бирж
# Сгенерировать: openssl rand -hex 16 (даст 32 hex символа)
ENCRYPTION_KEY=12345678901234567890123456789012

# Время жизни сессии в секундах (минимум 60)
SESSION_TIMEOUT=3600

# =============================================================================
# Debug Endpoints Protection (pprof)
# =============================================================================
# Credentials для доступа к /debug/pprof/* endpoints
# В development (ENV=development) без этих параметров доступ разрешен
# В production (ENV=production) БЕЗ этих параметров доступ ЗАПРЕЩЕН
DEBUG_USERNAME=admin
DEBUG_PASSWORD=change-me-in-production

# =============================================================================
# CORS Configuration
# =============================================================================
# Дополнительные разрешенные origins для CORS (через запятую)
# По умолчанию разрешены: localhost:3000, localhost:8080, localhost:5173
# Пример: CORS_ALLOWED_ORIGINS=https://myapp.com,https://admin.myapp.com
CORS_ALLOWED_ORIGINS=

# =============================================================================
# Bot Configuration - WebSocket (Event-driven architecture)
# =============================================================================
# Задержка перед переподключением WebSocket (при разрыве соединения)
WS_RECONNECT_DELAY=1s

# Интервал ping для поддержания WebSocket соединения
WS_PING_INTERVAL=15s

# Таймаут чтения WebSocket сообщений
WS_READ_TIMEOUT=30s

# =============================================================================
# Bot Configuration - Periodic Tasks (не влияют на торговлю)
# =============================================================================
# Частота обновления балансов бирж для UI
BALANCE_UPDATE_FREQ=1m

# Частота обновления статистики для UI
STATS_UPDATE_FREQ=5s

# =============================================================================
# Bot Configuration - Orders
# =============================================================================
# Максимальное количество повторных попыток при ошибках API (0-10)
MAX_RETRIES=4

# Начальная задержка между повторными попытками (exponential backoff)
RETRY_BACKOFF=500ms

# Таймаут ожидания исполнения ордера
ORDER_TIMEOUT=5s

# Максимум одновременных арбитражей (0 = без ограничений)
MAX_CONCURRENT_ARBS=0

# =============================================================================
# Logging Configuration
# =============================================================================
# Уровень логирования: debug, info, warn, error
LOG_LEVEL=info

# Формат логов: json, text
LOG_FORMAT=json

# =============================================================================
# Docker / Grafana Configuration
# =============================================================================
# Credentials для Grafana UI (http://localhost:3001)
# ВАЖНО: Измените перед использованием в production!
GRAFANA_USER=admin
GRAFANA_PASSWORD=change-me-in-production
